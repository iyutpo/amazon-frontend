{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\PSU\\\\19thWestcliff\\\\Project\\\\Project-eCommerce\\\\web403-eCommerce\\\\amazon-frontend\\\\src\\\\pages\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart, removeFromCart } from '../actions/CartAction';\nimport { Link } from 'react-router-dom';\nimport MessageBox from \"../components/MessageBox\";\nimport \"../styles/Cart.css\";\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nconst Cart = props => {\n  _s();\n\n  const productID = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems,\n    error\n  } = cart;\n  console.log(productID);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productID) {\n      dispatch(addToCart(productID, qty));\n    }\n  }, [dispatch, productID, qty]);\n\n  const removeProduct = id => {\n    dispatch(removeFromCart(id));\n  };\n\n  const checkOut = () => {\n    props.history.push('/shipping');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"back-res\",\n      children: \"Back to home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(MessageBox, {\n          children: [\"Cart is empty. \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Go Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"min-30\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/products/product/${item.product}`,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"qty-select\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: item.qty,\n                  onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n                  children: [...Array(item.stock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: x + 1,\n                    children: x + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 57\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"$\", item.price * item.qty]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"remove-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removeProduct(item.product),\n                  children: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 41\n            }, this)\n          }, item.product, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Subtotal (\", cartItems.reduce((a, c) => {\n                  return a + c.qty;\n                }, 0), \" items) :\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"price\",\n                children: [\"$ \", cartItems.reduce((a, c) => a + c.price * c.qty, 0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: checkOut,\n                className: \"checkout-btn\",\n                disabled: cartItems.length === 0,\n                children: \"Proceed to Checkout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"O8kV4FMad4uUEER48J0xtNwHiNw=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["D:/PSU/19thWestcliff/Project/Project-eCommerce/web403-eCommerce/amazon-frontend/src/pages/Cart.js"],"names":["React","useEffect","useDispatch","useSelector","addToCart","removeFromCart","Link","MessageBox","CancelIcon","Cart","props","productID","match","params","id","qty","location","search","Number","split","cart","state","cartItems","error","console","log","dispatch","removeProduct","checkOut","history","push","length","map","item","image","product","name","e","target","value","Array","stock","keys","x","price","reduce","a","c"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { addToCart,removeFromCart } from '../actions/CartAction';\r\nimport { Link } from 'react-router-dom';\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport \"../styles/Cart.css\"\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nconst Cart = (props) => {\r\n\r\n    const productID = props.match.params.id;\r\n    const qty = props.location.search ? \r\n        Number(props.location.search.split('=')[1])\r\n        : 1;\r\n\r\n    \r\n    const cart = useSelector((state) => state.cart);\r\n    const { cartItems, error } = cart;\r\n\r\n    console.log(productID);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if(productID){\r\n            dispatch(addToCart(productID,qty));\r\n        }\r\n    }, [dispatch, productID, qty])\r\n\r\n\r\n    const removeProduct = (id) =>{\r\n        dispatch(removeFromCart(id));\r\n    }\r\n\r\n    const checkOut =() =>{\r\n        props.history.push('/shipping');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link to=\"/\" className=\"back-res\">Back to home</Link>\r\n\r\n            <div className=\"row-container\">\r\n                <div className=\"col-4\">\r\n                    <h1>Shopping Cart</h1>\r\n                    {cartItems.length === 0 ? (\r\n                        <MessageBox>\r\n                            Cart is empty. <Link to=\"/\">Go Shopping</Link>\r\n                        </MessageBox>\r\n                    ) : (\r\n                        <ul>\r\n                            {\r\n                                cartItems.map((item)=>(\r\n                                    <li key={item.product}>\r\n                                        <div className=\"row1\">\r\n                                            <div className=\"small\">\r\n                                                <img src={item.image}\r\n                                                alt= \"\"\r\n                                                ></img>\r\n                                            </div>\r\n\r\n                                            <div className=\"min-30\">\r\n                                                <Link to={`/products/product/${item.product}`}>{item.name}</Link>\r\n                                            </div>\r\n                                            <div className=\"qty-select\">\r\n                                                <select value={item.qty} \r\n                                                onChange={(e) => \r\n                                                dispatch(addToCart(item.product,Number(e.target.value)))\r\n                                                }>\r\n                                                {\r\n                                                    [...Array(item.stock).keys()].map((x)=>(\r\n                                                        <option value={x+1}>{x+1}</option>\r\n                                                    ))\r\n                                                }\r\n                                                </select>\r\n                                            </div>\r\n                                            <p>${item.price * item.qty}</p>\r\n                                            <div className=\"remove-btn\">\r\n                                                <button type=\"button\" onClick={() => removeProduct(item.product)}>\r\n                                                    <CancelIcon/>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"col-5\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <p>\r\n                                    Subtotal ({cartItems.reduce((a, c) => {\r\n                                        return a + c.qty;\r\n                                    }, 0)} items) : \r\n                                </p>\r\n                                <p className=\"price\">$ {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}</p>\r\n                            </li>\r\n                            <li>\r\n                                <button type=\"button\" onClick={checkOut}\r\n                                className=\"checkout-btn\"\r\n                                disabled={cartItems.length === 0}\r\n                                >\r\n                                    Proceed to Checkout\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\PSU\\\\19thWestcliff\\\\Project\\\\Project-eCommerce\\\\web403-eCommerce\\\\amazon-frontend\\\\src\\\\pages\\\\UserProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { detailsUser, updateUserProfile } from '../actions/UserAction';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/UserConstant';\nimport \"../styles/UserProfile.css\";\n\nconst UserProfile = () => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmpassword, setConfirmPassword] = useState('');\n  const userSignin = useSelector(state => state.userSignin);\n  const userDetails = useSelector(state => state.userDetails);\n  const userUpdateProfile = useSelector(state => state.userUpdateProfile);\n  const {\n    userInfo\n  } = userSignin;\n  const {\n    loading,\n    error,\n    user\n  } = userDetails;\n  const {\n    success: successUpdate,\n    error: errorUpdate,\n    loading: loadingUpdate\n  } = userUpdateProfile;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!user) {\n      dispatch({\n        type: USER_UPDATE_PROFILE_RESET\n      });\n      dispatch(detailsUser(userInfo._id));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n    }\n  }, [dispatch, userInfo._id, user]);\n\n  const updateDetails = e => {\n    e.preventDefault();\n\n    if (password != confirmpassword) {\n      alert('Password does not match.');\n    } else {\n      dispatch(updateUserProfile({\n        userId: user._id,\n        name,\n        email,\n        password\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-dets-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: updateDetails,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"User Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 26\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [loading && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }, this), errorUpdate && /*#__PURE__*/_jsxDEV(MessageBox, {\n          variant: \"danger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }, this), successUpdate && /*#__PURE__*/_jsxDEV(MessageBox, {\n          variant: \"success\",\n          children: \"Profile updated successfully.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-ip-sec\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"name\",\n            id: \"name\",\n            placeholder: \"Enter name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-ip-sec\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"E-mail:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            placeholder: \"Enter email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-ip-sec\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            placeholder: \"Enter password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-ip-sec\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirmpassword\",\n            children: \"Confirm password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"confirmpassword\",\n            placeholder: \"Enter password\",\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update-btn\",\n            type: \"submit\",\n            children: \"Update Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserProfile, \"+grnCn7RD5K04RS1kZ+9Q62xahg=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"sources":["D:/PSU/19thWestcliff/Project/Project-eCommerce/web403-eCommerce/amazon-frontend/src/pages/UserProfile.js"],"names":["React","useEffect","useState","useDispatch","useSelector","detailsUser","updateUserProfile","LoadingBox","MessageBox","USER_UPDATE_PROFILE_RESET","UserProfile","name","setName","email","setEmail","password","setPassword","confirmpassword","setConfirmPassword","userSignin","state","userDetails","userUpdateProfile","userInfo","loading","error","user","success","successUpdate","errorUpdate","loadingUpdate","dispatch","type","_id","updateDetails","e","preventDefault","alert","userId","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { detailsUser, updateUserProfile } from '../actions/UserAction';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/UserConstant';\r\nimport \"../styles/UserProfile.css\";\r\n\r\nconst UserProfile = () => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmpassword, setConfirmPassword] = useState('');\r\n    \r\n    const userSignin = useSelector((state) => state.userSignin);\r\n    const userDetails = useSelector((state) => state.userDetails);\r\n    const userUpdateProfile = useSelector((state)=>state.userUpdateProfile);\r\n\r\n    const {userInfo} = userSignin;\r\n    const {loading,error,user} = userDetails;\r\n    const {\r\n        success: successUpdate,\r\n        error: errorUpdate,\r\n        loading: loadingUpdate\r\n    } = userUpdateProfile;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if(!user){\r\n            dispatch({\r\n                type: USER_UPDATE_PROFILE_RESET\r\n            })\r\n           dispatch(detailsUser(userInfo._id)); \r\n        }\r\n        else{\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n        }\r\n        \r\n    }, [dispatch, userInfo._id,user]);\r\n\r\n\r\n    const updateDetails = (e) =>{\r\n        e.preventDefault();\r\n\r\n        if(password != confirmpassword){\r\n            alert('Password does not match.')\r\n        }\r\n        else{\r\n            dispatch(updateUserProfile({\r\n                userId: user._id,\r\n                name,\r\n                email,\r\n                password\r\n            }));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"user-dets-container\">\r\n           <form className=\"form\" onSubmit={updateDetails}>\r\n            <h1>User Profile</h1>\r\n            {\r\n                loading? <LoadingBox></LoadingBox>\r\n                :\r\n                error? (\r\n                    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                )\r\n                :\r\n                (\r\n                    <>\r\n                    {loading && <LoadingBox></LoadingBox>}\r\n                    {errorUpdate && <MessageBox variant=\"danger\"></MessageBox>}\r\n                    {successUpdate && <MessageBox variant=\"success\">Profile updated successfully.</MessageBox>}\r\n                    <div className=\"form-ip-sec\">\r\n                        <label htmlFor=\"name\">Name:</label>\r\n                        <input type=\"name\" id=\"name\"\r\n                        placeholder=\"Enter name\"\r\n                        value={name}\r\n                        onChange={(e)=> setName(e.target.value)}>\r\n                        </input>\r\n                    </div>\r\n\r\n                    <div className=\"form-ip-sec\">\r\n                        <label htmlFor=\"email\">E-mail:</label>\r\n                        <input type=\"email\" id=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                        value={email}\r\n                        onChange={(e)=> setEmail(e.target.value)}>\r\n                        </input>\r\n                    </div>\r\n\r\n                    <div className=\"form-ip-sec\">\r\n                        <label htmlFor=\"password\">Password:</label>\r\n                        <input type=\"password\" id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        onChange={(e)=> setPassword(e.target.value)}>\r\n                        </input>\r\n                    </div>\r\n\r\n                    <div className=\"form-ip-sec\">\r\n                        <label htmlFor=\"confirmpassword\">Confirm password:</label>\r\n                        <input type=\"password\" id=\"confirmpassword\"\r\n                        placeholder=\"Enter password\"\r\n                        onChange={(e)=> setConfirmPassword(e.target.value)}>\r\n                        </input>\r\n                    </div>\r\n\r\n                    <div>\r\n                    <label/>\r\n                    <button className=\"update-btn\" type=\"submit\">\r\n                        Update Details\r\n                    </button>\r\n                </div>\r\n                    </>\r\n                )\r\n            }\r\n            </form> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\PSU\\\\19thWestcliff\\\\Project\\\\ProjectAmazon\\\\Amazon-Clone\\\\amazon-frontend\\\\src\\\\pages\\\\CategoryBasedPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport \"../styles/SearchResults.css\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport Product from '../components/Product';\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { listProducts } from '../actions/ProdcutActions';\nimport PriceCheckBox from '../components/PriceCheckBox';\nimport { prices } from \"../data/priceRanges\";\n\nconst CategoryBasedPage = props => {\n  _s();\n\n  const [range, setRange] = useState([0, 50000]);\n  const category = props.match.params.cat;\n  const dispatch = useDispatch();\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products\n  } = productList;\n  useEffect(() => {\n    dispatch(listProducts());\n  }, [dispatch]);\n\n  const handleFilters = filters => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key].id === parseInt(filters, 10)) {\n        array = data[key].array;\n      }\n    }\n\n    setRange(array);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-options-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"clear-filter-btn\",\n        onClick: () => setRange([0, 50000]),\n        children: \"Clear filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Filter Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PriceCheckBox, {\n        list: prices,\n        handleFilters: filters => handleFilters(filters)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-page-product-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 28\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"sec-title\",\n          children: [\"Products under \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 62\n          }, this), \" category\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-product-container\",\n          children: products.filter(product => product.category.toLowerCase().includes(category.toLowerCase()) && product.price <= range[1] && product.price >= range[0]).map(filteredProduct => /*#__PURE__*/_jsxDEV(Product, {\n            product: filteredProduct\n          }, filteredProduct._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CategoryBasedPage, \"U6umfY0X4imv72Z5budRbESWv7o=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CategoryBasedPage;\nexport default CategoryBasedPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryBasedPage\");","map":{"version":3,"sources":["D:/PSU/19thWestcliff/Project/ProjectAmazon/Amazon-Clone/amazon-frontend/src/pages/CategoryBasedPage.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Product","LoadingBox","MessageBox","listProducts","PriceCheckBox","prices","CategoryBasedPage","props","range","setRange","category","match","params","cat","dispatch","productList","state","loading","error","products","handleFilters","filters","data","array","key","id","parseInt","filter","product","toLowerCase","includes","price","map","filteredProduct","_id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport \"../styles/SearchResults.css\"\r\nimport { useSelector , useDispatch} from 'react-redux'\r\nimport Product from '../components/Product'\r\nimport LoadingBox from \"../components/LoadingBox\"\r\nimport MessageBox from \"../components/MessageBox\"\r\nimport { listProducts } from '../actions/ProdcutActions'\r\nimport PriceCheckBox from '../components/PriceCheckBox'\r\nimport {prices} from \"../data/priceRanges\";\r\n\r\n\r\nconst CategoryBasedPage = (props) => {\r\n\r\n    const [range, setRange] = useState([0,50000]);\r\n\r\n    const category = props.match.params.cat;\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const productList = useSelector( state => state.productList);\r\n    const {loading,error,products} = productList;\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(listProducts());\r\n    }, [dispatch])\r\n\r\n\r\n\r\n    const handleFilters = (filters) => {\r\n\r\n        const data = prices;\r\n        let array = [];\r\n\r\n        for (let key in data) {\r\n            if (data[key].id === parseInt(filters, 10)) {\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        setRange(array);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"search-page-container\">\r\n\r\n            <div className=\"filter-options-container\">\r\n                <button className=\"clear-filter-btn\" onClick={() => setRange([0,50000])}>\r\n                    Clear filters\r\n                </button>\r\n                <h3>\r\n                    Filter Price:\r\n                </h3>\r\n\r\n                <PriceCheckBox\r\n                list={prices}\r\n                handleFilters = {filters => handleFilters(filters)}\r\n                />\r\n                \r\n            </div>\r\n\r\n            <div className=\"search-page-product-container\">\r\n                {loading ? <LoadingBox />\r\n                :\r\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                :\r\n                (\r\n                    <>\r\n                    <h2 className=\"sec-title\">Products under <span>{category}</span> category</h2>\r\n                    <div className=\"search-product-container\">\r\n\r\n                        {products.filter(product=>\r\n                                product.category.toLowerCase().includes(category.toLowerCase())\r\n                                && product.price <= range[1]\r\n                                && product.price >= range[0]\r\n                            ).map(filteredProduct => (\r\n                                <Product key={filteredProduct._id} product={filteredProduct} />\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    </>\r\n                )\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryBasedPage\r\n"]},"metadata":{},"sourceType":"module"}